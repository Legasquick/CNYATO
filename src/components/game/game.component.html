<section id="game" class="container mx-auto px-6 py-12">
  <div class="text-center mb-12">
    <h2 class="text-3xl md:text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-blue-600 font-heading">А теперь... игра!</h2>
    <p class="mt-4 text-lg text-gray-400">Помогите нашему герою преодолеть бюрократию Сколково.</p>
  </div>

  <div class="relative max-w-4xl mx-auto rounded-lg overflow-hidden border-2 border-gray-700 shadow-2xl shadow-blue-900/40">
    <canvas #gameCanvas class="w-full h-[300px] bg-gray-800 block"></canvas>
    
    @if (gameState() !== 'running') {
      <div class="absolute inset-0 bg-black/70 backdrop-blur-sm flex flex-col justify-center items-center text-center p-4">
        @if (gameState() === 'idle') {
          <h3 class="text-4xl font-bold text-white mb-4 font-heading">Сколково Runner</h3>
          <p class="text-gray-300 mb-6">Нажмите Пробел или кнопку, чтобы начать забег!</p>
          <button (click)="startGame()" class="px-8 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors font-heading">
            Начать
          </button>
        } @else if (gameState() === 'over') {
          <h3 class="text-4xl font-bold text-red-500 mb-2 font-heading">Грант не получен!</h3>
          <p class="text-2xl text-white mb-4">Ваш счет: <span class="font-bold text-yellow-400">{{ score() }}</span></p>
          <p class="text-gray-300 mb-6">Попробуйте еще раз!</p>
          <button (click)="startGame()" class="px-8 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors font-heading">
            Рестарт
          </button>
        }
      </div>
    }

    <div class="absolute top-4 right-4 bg-black/50 px-4 py-2 rounded-lg">
      <span class="text-white font-bold text-xl">Счет: <span class="font-heading">{{ score() }}</span></span>
    </div>
  </div>
</section>